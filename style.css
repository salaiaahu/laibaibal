:root {
    /* Backgrounds */
    --main-bg-color: #f4f4f4;
    --panel-bg-color: #ffffff;
    --top-bar-bg-color: #2c3e50;
    --sidebar-bg-color: #34495e;
    --modal-content-bg-color: #fefefe;
    --modal-border-color: #cccccc; /* Slightly more defined border for modal */
    --modal-title-text-color: var(--main-text-color);
    --modal-shadow: 0 5px 15px rgba(0,0,0,0.2);
    --button-bg-color: #4CAF50;
    --button-hover-bg-color: #45a049;
    --button-disabled-bg-color: #9e9e9e;
    --close-button-bg-color: #6c757d;
    --delete-button-bg-color: #dc3545;
    --grid-item-bg-color: #fff; /* Was #e0e0e0 for old chapter grid, now #fff for new professional look */
    --grid-item-selected-bg-color: #4CAF50;

    --input-bg-color: #ffffff; /* Background for textarea */
    --input-text-color: var(--main-text-color);
    --input-border-color: #cccccc;
    --input-focus-border-color: var(--accent-color); /* Use accent color for focus */

    --button-secondary-bg-color: #f0f0f0;
    --button-secondary-text-color: #333333;
    --button-secondary-border-color: #cccccc;
    --button-secondary-hover-bg-color: #e0e0e0;

    --delete-button-bg-color: #dc3545;
    --delete-button-text-color: #ffffff;
    --delete-button-hover-bg-color: #c82333;

    /* Text Colors */
    --main-text-color: #333;
    --panel-text-color: #333;
    --top-bar-text-color: #ffffff;
    --sidebar-text-color: #ffffff;
    --button-text-color: #ffffff;
    --link-color: #007bff;
    --link-hover-color: #0056b3;
    --verse-number-color: #6a0dad;
    --subheading-text-color: #34495e;
    --grid-item-text-color: #333;
    --grid-item-selected-text-color: #ffffff;

    /* Text Size */
    --bible-text-font-size: 1rem;       /* Default base size for verse text */
    --bible-subheading-font-size: 1.2em;  /* Relative to parent's font size */
    --bible-title-font-size: 1.1em;

    /* Borders & Shadows */
    --panel-border-color: #d1d5db; /* Updated to consistent border */
    --grid-item-border-color: #d1d5db;
    --grid-item-hover-border-color: #4CAF50;
    --top-bar-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
    --panel-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06); /* Subtle shadow */
    --modal-border-color: #888;

    /* Highlight Colors (already good, just ensure they are variables if you want themes to alter them) */
    --highlight-yellow: #fff58c;
    --highlight-green: #b9fbc0;
    --highlight-blue: #a0c4ff;
    --highlight-pink: #ffc6ff;
    --highlight-orange: #ffd6a5;
    /* Add --highlight-purple if you keep it */
    /* --highlight-purple: #bdb2ff; */


    /* Fonts (Optional for now, but good to have) */
    --font-family-main: Arial, sans-serif;
    --font-size-normal: 1rem;
    --line-height-normal: 1.6;
	
	--panel-bg-color: #ffffff;
    --panel-text-color: var(--main-text-color); /* Panels use main text color */
    --panel-border-color: #d1d5db; /* Or #ddd if you prefer */
    --panel-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06);

    --bible-column-bg-color: #ffffff; /* Specific background for the bible column */
    --bible-column-border-color: #dddddd;
    --bible-column-text-color: var(--main-text-color); /* Text within the bible column */
    
    --column-title-text-color: #2c3e50;
    --column-title-border-color: #eeeeee;
    
    --verse-number-text-color: #6a0dad; 
    --subheading-text-color: #34495e;
    --subheading-border-color: #eeeeee;

    --accent-color: #4CAF50; 
    --accent-text-color: #ffffff;
    --selected-verse-bg-color: #e6ffe6;
    --selected-verse-text-color: var(--main-text-color);
}
body.theme-dark {
    --main-bg-color: #1e1e1e;
    --main-text-color: #e0e0e0;
    --panel-bg-color: #2a2a2a;
    --panel-border-color: #4a4a4a;
    --panel-shadow: 0 0 15px rgba(0, 0, 0, 0.6);
    --accent-color: #007bff; 
    --accent-text-color: #ffffff;

    --top-bar-bg-color: #121212;
    --top-bar-text-color: #e0e0e0;
    --top-bar-button-bg-color: #007bff; /* Example: Blue buttons in dark mode */
    --top-bar-button-hover-bg-color: #0056b3;

    --sidebar-bg-color: #222222;
    --sidebar-text-color: #d0d0d0;
    --sidebar-hover-bg-color: #333333;
    --sidebar-selected-bg-color: #007bff;
    --sidebar-border-color: #444;

    --button-bg-color: #007bff; /* General buttons */
    --button-hover-bg-color: #0056b3;
    --close-button-bg-color: #555;
    --delete-button-bg-color: #c82333;


    --grid-item-bg-color: #303030;
    --grid-item-text-color: #e0e0e0;
    --grid-item-border-color: #4f4f4f;
    --grid-item-hover-border-color: #007bff;
    --grid-item-hover-text-color: #007bff;
    --grid-item-selected-bg-color: #007bff;
    --grid-item-selected-text-color: #ffffff;

    --verse-number-color: #58a6ff; /* Lighter accent for dark mode */
    --subheading-text-color: #c0c0c0;
    --link-color: #58a6ff;
    --link-hover-color: #82c0ff;

    --modal-content-bg-color: #333333;
    --modal-border-color: #555555;

    /* Adjust highlight colors for better visibility on dark backgrounds */
    --highlight-yellow: #b0a02c; /* Darker, less intense yellow */
    --highlight-green: #3b8056;
    --highlight-blue: #3d70b2;
    --highlight-pink: #a750a7;
    --highlight-orange: #b8783e;

    --panel-bg-color: #2a2a2a;
    --panel-text-color: var(--main-text-color);
    --panel-border-color: #4a4a4a;

    --bible-column-bg-color: #222222;        /* Dark background for bible column */
    --bible-column-border-color: #444444;    /* Darker border */
    --bible-column-text-color: var(--main-text-color); /* Light text for dark mode */

    --column-title-text-color: var(--main-text-color);
    --column-title-border-color: var(--panel-border-color);

    --verse-number-text-color: #82c0ff;      /* Light blue for dark mode verse numbers */
    --subheading-text-color: #c0c0c0;        /* Light grey for subheadings */
    --subheading-border-color: var(--panel-border-color);
    --selected-verse-bg-color: #3a5370;
    --selected-verse-text-color: var(--main-text-color);

    --modal-content-bg-color: #3a3a3a; /* Darker content area */
    --modal-border-color: #555555;
    --main-text-color: #e0e0e0;
    --modal-title-text-color: var(--main-text-color); /* Uses light text from dark theme */
    --modal-shadow: 0 5px 20px rgba(0,0,0,0.4);

    --input-bg-color: #2c2c2c; /* Dark input background */
    --input-text-color: var(--main-text-color);
    --input-border-color: #555555;
    --input-focus-border-color: var(--accent-color); /* e.g., your dark theme's blue accent */

    --button-secondary-bg-color: #4f4f4f;
    --button-secondary-text-color: #e0e0e0;
    --button-secondary-border-color: #666666;
    --button-secondary-hover-bg-color: #5a5a5a;

    --delete-button-bg-color: #d32f2f; /* Slightly adjusted red for dark */
    --delete-button-text-color: #ffffff;
    --delete-button-hover-bg-color: #b71c1c;
}

body.theme-sepia {
    --main-bg-color: #f4e8c1;
    --main-text-color: #5b4636; /* Dark brown */
    --panel-bg-color: #efe5cc;
    --panel-border-color: #d3c5aa;
    --panel-shadow: 0 0 10px rgba(80, 60, 40, 0.15);
    --accent-text-color: #f5f5f5;
    --accent-color: #8d6e63;	

    --top-bar-bg-color: #7a5c43; /* Darker sepia/brown */
    --top-bar-text-color: #f4e8c1; /* Light sepia text */

    --sidebar-bg-color: #8d6e63; /* Muted brown */
    --sidebar-text-color: #f5f5f5;
    --sidebar-hover-bg-color: #a1887f;
    --sidebar-selected-bg-color: #6d4c41; /* Darker brown for selection */
    --sidebar-border-color: #c1b0a2;

    --button-bg-color: #8d6e63;
    --button-hover-bg-color: #6d4c41;
    --button-text-color: #f5f5f5;

    --grid-item-bg-color: #faf0d7;
    --grid-item-text-color: #5b4636;
    --grid-item-border-color: #d3c5aa;
    --grid-item-hover-border-color: #6d4c41;
    --grid-item-hover-text-color: #6d4c41;
    --grid-item-selected-bg-color: #6d4c41;
    --grid-item-selected-text-color: #f5f5f5;

    --verse-number-color: #8c5a39;
    --subheading-text-color: #6a4f4b;
    --link-color: #795548;
    --link-hover-color: #5d4037;

    --modal-content-bg-color: #fdf5e6; /* Creamy */
    --modal-border-color: #d2b48c; /* Tan */

    /* Highlight colors for Sepia */
    --highlight-yellow: #e9ab17; /* More golden */
    --highlight-green: #a7d7a9;
    --highlight-blue: #a0b9de;
    --highlight-pink: #e6a8d7;
    --highlight-orange: #f0c27b;

    --panel-bg-color: #efe5cc;
    --panel-text-color: var(--main-text-color);
    --panel-border-color: #d3c5aa;
    --panel-shadow: 0 0 10px rgba(80, 60, 40, 0.15);

    --bible-column-bg-color: #fdf5e6;        /* Creamy background for sepia bible column */
    --bible-column-border-color: #d3c5aa;    /* Sepia border */
    --bible-column-text-color: var(--main-text-color); /* Use sepia main text */
    
    --column-title-text-color: var(--main-text-color);
    --column-title-border-color: var(--panel-border-color);
    
    --verse-number-text-color: #8c5a39;      /* Brownish for sepia verse numbers */
    --subheading-text-color: #6a4f4b;        /* Darker sepia for subheadings */
    --subheading-border-color: var(--panel-border-color);

    --modal-content-bg-color: #fdf5e6; /* Creamy */
    --modal-border-color: #d2b48c; /* Tan */
    --modal-title-text-color: var(--main-text-color);
    --modal-shadow: 0 5px 15px rgba(80, 60, 40, 0.2);

    --input-bg-color: #faf0d7; /* Lighter sepia for input */
    --input-text-color: var(--main-text-color);
    --input-border-color: #d2b48c;
    --input-focus-border-color: var(--accent-color); /* Your sepia accent */

    --button-secondary-bg-color: #e3d9c0;
    --button-secondary-text-color: var(--main-text-color);
    --button-secondary-border-color: #c1b0a2;
    --button-secondary-hover-bg-color: #d5c9b0;

    --delete-button-bg-color: #c66060; /* Muted red for sepia */
    --delete-button-text-color: #ffffff;
    --delete-button-hover-bg-color: #b04040;
}

html, body {
    height: 100%;
    margin: 0;
    padding: 0;
    overflow: hidden;
    font-family: Arial, sans-serif;
    line-height: 1.6;
    background-color: #f4f4f4;
    color: #333;
	background-color: var(--main-bg-color);
    color: var(--main-text-color);
    font-family: var(--font-family-main);
    line-height: var(--line-height-normal);
}

#app-container {
    display: flex;
    flex-direction: column;
    height: 100%;
}

#top-bar {
    background-color: #2c3e50;
    color: white;
    padding: 0.8rem 1rem;
    display: flex;
    justify-content: space-between;
    align-items: center;
    box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
    flex-shrink: 0;
    background-color: var(--top-bar-bg-color);
    color: var(--top-bar-text-color);
    box-shadow: var(--top-bar-shadow);
}

.top-group {
    display: flex;
    align-items: center;
    gap: 10px;
}

.version-select,
#commentarySelect, /* Added commentarySelect */
#versionNameInput,
#addVersionBtn {
    padding: 8px 12px;
    border: 1px solid #ccc;
    border-radius: 4px;
    font-size: 0.9rem;
}

.version-select, #commentarySelect {
    background-color: #fff;
    color: #333;
    min-width: 120px;
}

.nav-btn,
#toggleViewBtn,
#toggleSearchBtn,
#toggleFileUploadBtn,
#toggleCommentaryUploadBtn, /* Added commentary button */
#toggleUserDataBtn { /* Added user data button */
    background-color: #4CAF50;
    color: white;
    border: none;
    padding: 8px 12px;
    border-radius: 4px;
    cursor: pointer;
    font-size: 1rem;
    display: flex;
    align-items: center;
    gap: 5px;
    transition: background-color 0.2s ease;
}

.nav-btn:hover:not(:disabled),
#toggleViewBtn:hover:not(:disabled),
#toggleSearchBtn:hover:not(:disabled),
#toggleFileUploadBtn:hover:not(:disabled),
#toggleCommentaryUploadBtn:hover:not(:disabled),
#toggleUserDataBtn:hover:not(:disabled) {
    background-color: #45a049;
}

.nav-btn:disabled,
#toggleViewBtn:disabled,
#toggleSearchBtn:disabled,
#toggleFileUploadBtn:disabled,
#toggleCommentaryUploadBtn:disabled,
#toggleUserDataBtn:disabled {
    background-color: #9e9e9e;
    cursor: not-allowed;
}

#toggleFileUploadBtn {
    background-color: #6c757d;
}
#toggleFileUploadBtn:hover {
    background-color: #5a6268;
}

#toggleCommentaryUploadBtn {
    background-color: #8a2be2; /* Blue-violet for commentary */
}
#toggleCommentaryUploadBtn:hover {
    background-color: #6a0dad; /* Darker blue-violet on hover */
}

#toggleUserDataBtn { /* User data button color */
    background-color: #007bff;
}
#toggleUserDataBtn:hover {
    background-color: #0056b3;
}


.chapter-display {
    font-size: 1.2rem;
    font-weight: bold;
    min-width: 80px;
    text-align: center;
}


#main-content-area {
    display: flex;
    flex-grow: 1;
    overflow: hidden;
}

#sidebar {
 /*   width: 200px;
    background-color: #34495e;
    color: white;
    padding: 1rem;
    box-shadow: 2px 0 5px rgba(0, 0, 0, 0.1);
    overflow-y: auto;
    flex-shrink: 0;
    transition: width 0.3s ease, padding 0.3s ease; */
	display: none;
}

#sidebar.hidden {
    width: 0;
    padding: 0;
    overflow: hidden;
}
/* Make current chapter display clickable */
#currentChapterDisplay {
    cursor: pointer;
    padding: 5px 10px; /* Add some padding to make it a better click target */
    border-radius: 4px;
    transition: background-color 0.2s ease;
}

#currentChapterDisplay:hover {
    background-color: rgba(255, 255, 255, 0.1); /* Subtle hover effect */
}

/* Styles for the new Book/Chapter/Verse Navigator Panel */
#bookChapterVerseSelector {
    /* Ensure it can take up significant space, maybe like a modal */
    position: fixed; /* Or absolute if main-content-area is relative */
    top: 60px; /* Below top-bar */
    left: 50%;
    transform: translateX(-50%);
    width: 90%;
    max-width: 800px; /* Adjust as needed */
    height: calc(100vh - 80px - 40px); 
    max-height: 700px;
    overflow-y: auto;
    z-index: 200; /* Make sure it's above other content but below modals if any */
    /* display: flex; /* Already a panel, which is flex column */
    /* flex-direction: column; */
}

.navigation-view {
    width: 100%;
    display: flex; /* Ensure it's flex column to manage children */
    flex-direction: column;
    flex-grow: 1; /* Allow it to grow if panel is flex */
}

#bookGridContainer {
    display: flex;
    flex-direction: column; /* OT and NT sections will stack */
    gap: 20px; /* Space between OT and NT sections */
    overflow-y: auto; /* Allow internal scrolling if content overflows */
    flex-grow: 1;
}

.testament-section {
    /* border: 1px solid #eee; */
    /* border-radius: 4px; */
    /* padding: 10px; */
}

.testament-section h3 {
    text-align: left;
    margin-top: 0;
    margin-bottom: 10px;
    color: #2c3e50;
    padding-bottom: 5px;
    border-bottom: 1px solid #ddd;
}

/* Styling for book items, chapter items, verse items in their respective grids */
.book-grid .grid-item,
.chapter-grid .grid-item,
.verse-grid .grid-item { 
    background-color: var(--grid-item-bg-color);
    color: var(--grid-item-text-color);
    border: 1px solid var(--grid-item-border-color);
    border-radius: 6px; 
    padding: 8px;
    text-align: center;
    font-weight: 500;
    cursor: pointer;
    transition: all 0.2s ease-in-out;
    user-select: none;
    box-shadow: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
}

.book-grid .grid-item:hover,
.chapter-grid .grid-item:hover,
.verse-grid .grid-item:hover {
    border-color: var(--grid-item-hover-border-color);
    color: var(--grid-item-hover-text-color);
    transform: translateY(-2px);
    box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
}

#chapterGrid.grid-items {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(60px, 1fr)); 
    gap: 10px;
    padding: 10px; 
    overflow-y: auto;
    flex-grow: 1; 
    min-height: 0; 
    grid-auto-rows: min-content;
    align-content: start; 
}
.chapter-grid .grid-item {
    background-color: #fff;
    color: #333;
    border: 1px solid #d1d5db;
    border-radius: 6px;
    text-align: center;
    font-weight: 500;
    cursor: pointer;
    transition: all 0.2s ease-in-out;
    user-select: none;
    box-shadow: 0 1px 2px 0 rgba(0, 0, 0, 0.05);

    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    height: 80px; 
    padding: 8px; 
    box-sizing: border-box; 
}

.chapter-grid .grid-item:hover {
    border-color: #4CAF50;
    color: #4CAF50;
    transform: translateY(-2px);
    box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
}

.chapter-number {
    font-size: 1.3em; /* Slightly adjusted for potentially smaller button height */
    display: block;
    line-height: 1.1; /* Tighter line height */
}

.verse-count {
    font-size: 0.7em;
    color: #6b7280; /* Tailwind gray-500 */
    margin-top: 3px; /* Small gap from chapter number */
    display: block;
}

#verseGrid.grid-items { /* If #verseGrid is the element with class .grid-items */
    display: grid;
    /* You can adjust minmax for verse numbers, they might fit in smaller buttons */
    grid-template-columns: repeat(auto-fit, minmax(50px, 1fr)); 
    gap: 8px; /* Slightly smaller gap can look good for verse numbers */
    padding: 10px;
    overflow-y: auto;   /* Allows scrolling if many verses */
    flex-grow: 1;       /* Allows the grid area to use available space if needed */
    min-height: 0;      /* Important for flex children scrolling */
    
    /* --- KEY FIXES for the container --- */
    grid-auto-rows: min-content; /* Rows will be as tall as their content (the verse button height) */
    align-content: start;       /* Packs rows to the start (top) if container is taller */
}

/* This is for the individual verse "buttons" */

#verseGrid .grid-item {
    background-color: #fff;
    color: #333;
    border: 1px solid #d1d5db; /* Using the Tailwind gray-300 like before */
    border-radius: 6px;
    text-align: center;
    font-weight: 500;
    cursor: pointer;
    transition: all 0.2s ease-in-out;
    user-select: none;
    box-shadow: 0 1px 2px 0 rgba(0, 0, 0, 0.05);

    display: flex;          /* For vertical centering of the verse number */
    align-items: center;
    justify-content: center;
    
    height: 50px;           /* <<< SET AN EXPLICIT, SHORTER HEIGHT for verse buttons */
                            /* Adjust (e.g., 40px, 60px) as you see fit */
    padding: 5px;           /* Adjust padding for the new height */
    box-sizing: border-box; /* Include padding & border in the height/width calculation */
    font-size: 0.9em;       /* Verse numbers can often be a bit smaller */
}

#verseGrid .grid-item:hover {
    border-color: #4CAF50; /* Consistent green border on hover */
    color: #4CAF50;
    transform: translateY(-2px);
    box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
}

/* If a verse item is selected (you have .selected-verse for the reader view,
   you might want a similar .selected class for the grid if needed) */
#verseGrid .grid-item.selected {
    background-color: #4CAF50;
    color: white;
    border-color: #3e8e41;
}
.nav-btn { /* General style for nav buttons in this panel if needed */
     background-color: #6c757d; /* Consistent with other close buttons */
     color: white;
}
.nav-btn:hover {
    background-color: #5a6268;
}
.book-list ul {
    list-style: none;
    padding: 0;
    margin: 0;
}

.book-list li {
    padding: 8px 0;
    cursor: pointer;
    border-bottom: 1px solid rgba(255, 255, 255, 0.1);
    transition: background-color 0.2s ease;
}

.book-list li:last-child {
    border-bottom: none;
}

.book-list li:hover {
    background-color: #4a6582;
}

.book-list li.selected {
    background-color: #4CAF50;
    font-weight: bold;
}

#reader-view {
    flex-grow: 1;
    padding: 1.5rem;
    display: flex;
    flex-direction: column;
    align-items: center;
    overflow: hidden;
    min-height: 0;
}

.panel {
    background: var(--panel-bg-color); /* CHANGED */
    color: var(--panel-text-color);    /* ADDED */
    box-shadow: var(--panel-shadow);
    border-radius: 8px;
    padding: 20px;
    width: 100%;

    display: flex;
    flex-direction: column;
    flex-grow: 1;
    overflow: hidden;
    min-height: 0;
    border: 1px solid var(--panel-border-color); /* CHANGED/ADDED */
}

#bibleContentView {
	padding: 5px;

}


#upload-panel, #commentary-upload-panel, #search-panel, #user-data-panel { /* Common styles for these panels */
    display: flex; /* keep */
    flex-direction: column; /* keep */
    overflow-y: auto; 
    max-height: calc(100vh - 80px);
}

#upload-panel input[type="file"],
#upload-panel input[type="text"],
#addVersionBtn,
#commentary-upload-panel input[type="file"], /* Added commentary panel inputs */
#commentary-upload-panel input[type="text"],
#addCommentaryBtn {
    width: auto;
    margin-bottom: 10px;
	    padding: 8px 12px;
    border: 1px solid #ccc;
    border-radius: 4px;
}

#loadedVersionsList, #loadedCommentariesList, #highlightsList, #notesList, #bookmarksList { /* Common list styles */
    list-style: none;
    padding: 0;
    margin: 20px 0;
    text-align: left;
}

#loadedVersionsList li, #loadedCommentariesList li {
    background-color: #f0f0f0;
    padding: 8px 12px;
    margin-bottom: 5px;
    border-radius: 4px;
    display: flex;
    justify-content: space-between;
    align-items: center;
}

#loadedVersionsList li button, #loadedCommentariesList li button {
    background-color: #dc3545;
    padding: 5px 10px;
    font-size: 0.8rem;
}

#loadedVersionsList li button:hover, #loadedCommentariesList li button:hover {
    background-color: #c82333;
}

#closeUploadPanelBtn, #closeCommentaryUploadBtn, #closeSearchPanelBtn, #closeUserDataPanelBtn {
    background-color: #6c757d;
    margin-top: 15px;
	width: 60px;
	align-items: center;
	    padding: 8px 12px;
    border: 1px solid #ccc;
    border-radius: 4px;
}

#closeUploadPanelBtn:hover, #closeCommentaryUploadBtn:hover, #closeSearchPanelBtn:hover, #closeUserDataPanelBtn:hover {
    background-color: #5a6268;
}

.message {
    margin-top: 10px;
    padding: 10px;
    background-color: #d4edda;
    color: #155724;
    border: 1px solid #c3e6cb;
    border-radius: 4px;
    width: 100%;
}

.message.error {
    background-color: #f8d7da;
    color: #721c24;
    border: 1px solid #f5c6cb;
}

/* Grid Styles for Chapters/Verses */
.grid-container {
    padding: 20px;
    margin-top: 20px;
    border: 1px solid #ddd;
    border-radius: 5px;
    background-color: #fff;
    flex-grow: 1;
    display: flex;
    flex-direction: column;
    min-height: 0;
}

.grid-items {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(60px, 1fr));
    gap: 10px;
    padding: 10px 0;
    overflow-y: auto;
    flex-grow: 1;
    min-height: 0;
}

.grid-item {
    background-color: #e0e0e0;
    border: 1px solid #ccc;
    border-radius: 5px;
    padding: 10px;
    text-align: center;
    font-weight: bold;
    cursor: pointer;
    transition: background-color 0.2s ease, transform 0.1s ease;
    user-select: none;
}

.grid-item:hover {
    background-color: #d0d0d0;
    transform: translateY(-2px);
}

.grid-item.selected {
    background-color: #4CAF50;
    color: white;
    border-color: #4CAF50;
}


/* Parallel View Specific Styles */
.parallel-container {
    display: flex;
    gap: 20px;
    width: 100%;
    flex-grow: 1;
    min-height: 0;
}

.bible-column {
    flex: 1;
    border: 1px solid var(--bible-column-border-color);    /* CHANGED */
    border-radius: 5px;
    background-color: var(--bible-column-bg-color);       /* CHANGED */
    padding: 10px;
    display: flex;
    flex-direction: column;
    overflow: hidden;
    min-height: 0;
    color: var(--bible-column-text-color); /* ADDED - default text color for content within the column */
}

.column-title { /* e.g., "NIV: Gen 1" */
	font-size: var(--bible-title-font-size);
    text-align: center;
    margin-top: 0;
    margin-bottom: 5px;
    color: var(--column-title-text-color);               /* CHANGED */
    padding-bottom: 5px;
    border-bottom: 1px solid var(--column-title-border-color); /* CHANGED */
    flex-shrink: 0;
}

.bible-content {
    min-height: auto;
    overflow-y: scroll;
    flex-grow: 1;
    min-height: 0;
    -ms-overflow-style: none;
    scrollbar-width: none;
}

.bible-content::-webkit-scrollbar {
    display: none;
}


/* Single View Mode */
.single-view .secondary-column {
    display: none;
}

.single-view .primary-column {
    flex: 1;
}


.bible-content p {
    margin-bottom: 0.5em;
}
.bible-content p.verse-paragraph {
	font-size: var(--bible-text-font-size);
}

.verse-paragraph.selected-verse {
    background-color: var(--selected-verse-bg-color);
    color: var(--selected-verse-text-color); 
    border-left: 3px solid var(--accent-color);
    padding-left: 10px;
    margin-left: -10px;
}

.bible-content .verse-number {
    font-weight: bold;
    margin-right: 5px;
    color: var(--verse-number-text-color); 
}

.commentary-link {
    color: var(--link-color);
    font-weight: bold;
    font-size: 0.8em;
    margin-left: 5px;
    cursor: pointer;
    text-decoration: underline;
    vertical-align: super;
    padding: 1px 3px;
    border: 1px solid var(--link-color);
    border-radius: 3px;
    transition: background-color 0.2s ease, color 0.2s ease;
}

.commentary-link:hover {
    background-color: var(--link-color);
    color: var(--button-text-color);
    text-decoration: none;
}

.bible-content .placeholder {
    color: #666;
    text-align: center;
    font-style: italic;
    padding: 50px 0;
}

/* Specific styles for new elements from last update */
.introduction-text {
    font-style: italic;
    margin-bottom: 20px;
    padding: 15px;
    background-color: #f9f9f9;
    border-left: 5px solid #4CAF50;
    color: #555;
    white-space: pre-wrap;
}

.introduction-link {
    color: #007bff;
    text-decoration: underline;
    cursor: pointer;
    font-weight: bold;
}
.introduction-link:hover {
    color: #0056b3;
}


h2, h3 {
    color: #2c3e50;
    text-align: center;
    margin-top: 5px;
    margin-bottom: 5px;
}

.subheading {
	font-size: var(--bible-subheading-font-size);
    font-size: 1.2em;
    font-weight: bold;
    color: var(--subheading-text-color);  
    margin-top: 0.1em;
    margin-bottom: 0.1em;
    border-bottom: 1px solid var(--subheading-border-color);
    padding-bottom: 5px;
    text-align: left;
}

.footnote-marker {
    vertical-align: super;
    font-size: 0.8em;
    color: #888;
    margin-left: 3px;
    cursor: help;
}

.footnote-text {
    font-size: 0.85em;
    color: #666;
    display: none;
    position: absolute;
    background-color: #fffacd;
    border: 1px solid #daa520;
    padding: 5px 10px;
    border-radius: 4px;
    z-index: 10;
    max-width: 300px;
    box-shadow: 0 4px 8px 0 rgba(0,0,0,0.2), 0 6px 20px 0 rgba(0,0,0,0.19);
}

.footnote-marker:hover + .footnote-text {
    display: inline;
}

.hidden {
    display: none !important;
}

footer {
    text-align: center;

    color: #666;
	max-height: 30px;
    font-size: 0.9em;
    background: var(--panel-bg-color);
    border-top: 1px solid #ccc;
    flex-shrink: 0;
}

/* Modal styles (general) */
.modal {
    position: fixed;
    z-index: 1000; /* Ensure it's above most other content */
    left: 0;
    top: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0,0,0,0.5); /* Slightly darker overlay */
    display: flex; /* Keep this for centering */
    justify-content: center;
    align-items: center;
    padding: 15px; /* Padding for small screens so modal doesn't touch edges */
    box-sizing: border-box;
}

.modal-content {
    background-color: var(--modal-content-bg-color);
    padding: 20px 25px; /* More padding */
    border: 1px solid var(--modal-border-color);
    width: 100%; /* Full width up to max-width */
    max-width: 550px; /* Slightly narrower for a more focused feel */
    border-radius: 8px;
    box-shadow: var(--modal-shadow);
    position: relative; /* For absolute positioning of close button */
    display: flex;
    flex-direction: column;
    max-height: 90vh; /* Max height relative to viewport */
}

#commentaryModalTitle { /* This contains the title and the tabs */
    margin-top: 0;
    margin-bottom: 10px;
    padding-bottom: 10px;
    border-bottom: 1px solid var(--modal-border-color);
    flex-shrink: 0; /* Prevent title/tabs from shrinking if text is long */
    /* Ensure title and tabs within it don't cause overflow themselves */
}

#commentaryModalNav { /* The prev/next buttons container */
    text-align:center; 
    margin-bottom:10px;
    flex-shrink: 0; /* Prevent nav buttons from shrinking */
}

#commentaryModalText {
    flex-grow: 1;         /* Allow this div to take up remaining vertical space */
    overflow-y: auto;     /* <<< ADD THIS: Show scrollbar if content overflows its allotted space */
    min-height: 100px;    /* Optional: give it a minimum height */
    padding-right: 10px;  /* Add some padding if scrollbar is too close to text */
    box-sizing: border-box;
    /* Text styles will be inherited or you can set them: */
    color: var(--main-text-color); /* Or --bible-column-text-color or similar */
    line-height: 1.6;
}

.modal-content h2 { /* Modal titles */
    margin-top: 0;
}

.modal-form-group {
    margin-bottom: 15px;
    text-align: left;
}

.modal-form-group label {
    display: block;
    margin-bottom: 5px;
    font-weight: bold;
}

.modal-form-group input[type="text"],
.modal-form-group textarea {
    width: calc(100% - 22px); /* Account for padding/border */
    padding: 10px;
    border: 1px solid #ccc;
    border-radius: 4px;
    font-size: 1rem;
    box-sizing: border-box; /* Include padding/border in width */
}

.modal-form-group textarea {
    min-height: 100px;
    resize: vertical;
}

/* Note Modal Specifics */
#noteModalTitle {
    font-size: 1.5em; /* Larger title */
    font-weight: 600; /* Semi-bold */
    color: var(--modal-title-text-color);
    text-align: center;
    margin-top: 0; /* Already good */
    margin-bottom: 20px; /* More space below title */
    padding-right: 25px; /* Ensure it doesn't overlap with a far-right close button */
}

#noteTextarea {
    width: 100%;
    box-sizing: border-box;
    padding: 12px 15px; /* More padding inside textarea */
    border: 1px solid var(--input-border-color);
    border-radius: 6px; /* Slightly more rounded */
    font-size: var(--font-size-normal, 1rem);
    font-family: var(--font-family-main);
    min-height: 180px; /* Allow for more lines */
    resize: vertical;
    margin-bottom: 25px; /* More space above buttons */
    background-color: var(--input-bg-color);
    color: var(--input-text-color);
    transition: border-color 0.2s ease;
}

#noteTextarea:focus {
    outline: none;
    border-color: var(--input-focus-border-color); /* Highlight border on focus */
    box-shadow: 0 0 0 2px var(--accent-color-transparent, rgba(76, 175, 80, 0.2)); /* Optional: subtle glow, define --accent-color-transparent */
}

.modal-actions {
    display: flex; /* Use flexbox for button alignment */
    justify-content: flex-end; /* Align buttons to the right */
    gap: 10px; /* Space between buttons */
    margin-top: 0; /* Removed margin-top as textarea now has margin-bottom */
}

.modal-actions button {
    padding: 10px 20px; /* More padding for better click targets */
    border: 1px solid transparent; /* Base border for all buttons */
    border-radius: 5px; /* Consistent border radius */
    cursor: pointer;
    font-size: 0.9rem;
    font-weight: 500; /* Medium weight for button text */
    transition: background-color 0.2s ease, border-color 0.2s ease, color 0.2s ease, opacity 0.2s ease;
    line-height: 1.5; /* Ensure text vertical alignment */
}

#saveNoteBtn, #saveBookmarkBtn {
    background-color: var(--accent-color);
    color: var(--accent-text-color);
    border-color: var(--accent-color);
}
#saveNoteBtn:hover, #saveBookmarkBtn:hover {
    opacity: 0.85;
}

#cancelNoteBtn, #cancelBookmarkBtn {
    background-color: #ddd;
    color: #333;
}
#cancelNoteBtn:hover, #cancelBookmarkBtn:hover {
    background-color: #ccc;
}


.delete-btn {
    background-color: #dc3545;
    color: white;
}
.delete-btn:hover {
    background-color: #c82333;
}
/* Delete Note Button (Destructive Action) */
#deleteNoteBtn.delete-btn { /* Ensure selector specificity if needed */
    background-color: var(--delete-button-bg-color);
    color: var(--delete-button-text-color);
    border-color: var(--delete-button-bg-color);
}
#deleteNoteBtn.delete-btn:hover {
    opacity: 0.85; /* Or use a theme variable */
}

/* Cancel Note Button (Secondary Action) */
#cancelNoteBtn {
    background-color: var(--button-secondary-bg-color);
    color: var(--button-secondary-text-color);
    border: 1px solid var(--button-secondary-border-color);
}
#cancelNoteBtn:hover {
    background-color: var(--button-secondary-hover-bg-color);
}

.close-button {
    color: var(--main-text-color); /* Use main text color, but can be themed */
    position: absolute;
    top: 15px; /* Adjust position */
    right: 20px;
    font-size: 26px; /* Slightly adjusted */
    font-weight: bold;
    cursor: pointer;
    line-height: 1;
    padding: 0 5px;
    opacity: 0.7;
}

.close-button:hover,
.close-button:focus {
    color: var(--link-hover-color); /* Or a stronger interactive color */
    opacity: 1;
    text-decoration: none;
}

/* User Data Panel Tabs */
.user-data-tabs {
    display: flex;
    justify-content: center;
    margin-bottom: 20px;
    border-bottom: 1px solid #eee;
}

.tab-button {
    background-color: #f0f0f0;
    border: 1px solid #ddd;
    border-bottom: none;
    padding: 10px 15px;
    cursor: pointer;
    font-size: 1rem;
    border-radius: 5px 5px 0 0;
    transition: background-color 0.2s ease;
    margin: 0 2px;
}

.tab-button:hover:not(.active) {
    background-color: #e0e0e0;
}

.tab-button.active {
    background-color: #4CAF50;
    color: white;
    font-weight: bold;
    border-color: #4CAF50;
}

.tab-content {
    padding-top: 10px;
    /* Removed margin-top to avoid double spacing with .panel padding */
}

.user-data-list {
    list-style: none;
    padding: 0;
    margin: 15px 0;
    max-height: 350px; /* Make lists scrollable */
    overflow-y: auto;
    border: 1px solid #f0f0f0;
    border-radius: 4px;
    background-color: #fcfcfc;
}

.user-data-list li {
    padding: 10px 15px;
    border-bottom: 1px solid #f0f0f0;
    cursor: pointer;
    transition: background-color 0.2s ease;
    display: flex;
    justify-content: space-between;
    align-items: center;
}

.user-data-list li:last-child {
    border-bottom: none;
}

.user-data-list li:hover {
    background-color: #e6f7ff;
}

.user-data-list li .meta {
    font-size: 0.8em;
    color: #666;
    margin-left: 10px;
    white-space: nowrap;
}

.user-data-list li .category-tag {
    background-color: #f0f0f0;
    padding: 3px 8px;
    border-radius: 12px;
    font-size: 0.7em;
    font-weight: bold;
    color: #555;
    margin-left: 10px;
}

/* Highlighted verse styling */
.highlight-yellow { background-color: var(--highlight-yellow); } 
.highlight-green { background-color: var(--highlight-green); }  
.highlight-blue { background-color: var(--highlight-blue); }  
.highlight-pink { background-color: var(--highlight-pink); }  
.highlight-orange { background-color: var(--highlight-orange); }
.highlight-purple { background-color: var(--highlight-purple); }

.partial-note-anchor {
    /* Optional: Add a subtle visual cue to the text itself if you want it to look different */
    /* background-color: #f0f8ff; */ /* e.g., very light alice blue background */
    border-bottom: 1px dotted #007bff; /* e.g., dotted underline for the text */
    cursor: pointer; /* Indicates the wrapped text (and icon) is clickable */
    /* white-space: nowrap; /* May cause layout issues, use if icon wraps undesirably */
}

/* New distinct icon for partial notes */
.partial-note-icon.fa-map-pin {
    color: #E91E63; 
    font-size: 0.75em; 
    margin-left: 3px; 
    vertical-align: super; 
}

/* Existing style for whole-verse note indicators (ensure it's different) */
.note-indicator.fa-sticky-note {
    color: #28a745; 
   
}

/* Note/Bookmark icons next to verse number */
.verse-indicator {
    font-size: 0.75em;
    margin-left: 5px;
    color: #28a745; /* Green for notes */
    cursor: pointer;
    transition: color 0.2s ease;
}
.verse-indicator.bookmark {
    color: #007bff; /* Blue for bookmarks */
}
.verse-indicator:hover {
    color: #0056b3;
}

.verse-actions {
    margin-left: 10px;
    display: inline-flex;
    gap: 8px;
    vertical-align: middle;
}

.verse-paragraph .verse-indicator {
    cursor: pointer;
    opacity: 0.5;
    transition: opacity 0.2s ease;
}

.verse-paragraph .verse-indicator:hover {
    opacity: 1;
}

.verse-action-popup {
  position: absolute;
  display: flex;
  gap: 12px;
  background: #fff;
  border: 1px solid #ccc;
  border-radius: 8px;
  padding: 6px 10px;
  box-shadow: 0 4px 12px rgba(0,0,0,0.2);
  z-index: 10000;
}
.verse-action-popup.hidden {
  display: none;
}
.verse-action-popup .action-icon {
  cursor: pointer;
  font-size: 1.1em;
  color: #444;
}
.verse-action-popup .action-icon:hover {
  color: #007BFF;
}

.commentary-tabs {
  display: flex;
  gap: 6px;
  justify-content: center;
  margin-top: 10px;
}
.commentary-tab {
  padding: 4px 10px;
  background: #eee;
  border: none;
  border-radius: 4px;
  cursor: pointer;
}
.commentary-tab.active {
  background: #007bff;
  color: white;
  font-weight: bold;
}

/* Highlight Picker */
.highlight-picker {
    position: absolute;
    background-color: white;
    border: 1px solid #ccc;
    border-radius: 5px;
    box-shadow: 0 2px 5px rgba(0,0,0,0.2);
    padding: 5px;
    display: flex;
    gap: 5px;
    z-index: 100; /* Above content, below modals */
}

.partial-highlight {
   /* background-color: #fdffb6; */
    border-radius: 4px;
    padding: 0 2px;
}

.color-swatch {
    width: 25px;
    height: 25px;
    border-radius: 50%;
    cursor: pointer;
    border: 1px solid #eee;
    box-shadow: inset 0 0 3px rgba(0,0,0,0.2);
    transition: transform 0.1s ease, box-shadow 0.1s ease;
    display: flex;
    justify-content: center;
    align-items: center;
}

.color-swatch:hover {
    transform: scale(1.1);
    box-shadow: 0 0 5px rgba(0,0,0,0.3);
}

.color-swatch.clear {
    background-color: #f0f0f0;
    border: 1px dashed #aaa;
    color: #666;
    font-size: 1.2em;
}
.color-swatch.clear:hover {
    background-color: #e0e0e0;
    color: #333;
}
.selection-modal-content {
	padding: 15px;
	margin-bottom: 0;
	
}

/* Responsive adjustments */
@media (max-width: 768px) {
    #top-bar {
        flex-direction: row; /* Attempt to keep in a row */
        flex-wrap: wrap;     /* Allow to wrap to a second line if necessary */
        justify-content: space-between; /* Space out the main groups */
        align-items: center;
        padding: 3px 5px; /* Reduced padding */
    }
    footer {
        display: none;
    }
    .top-group {
        width: auto; /* Don't force full width for each group */
        margin-bottom: 0; /* Remove if they are inline */
        justify-content: center; /* Center items within their group */
        /* gap: 4px; /* Minimal gap for very small screens */
    }
    #top-bar-group-left {
        display: inline-flex; /* Ensure items are inline */
        align-items: center;
        /* flex-basis: 180px; /* Example: give it some base width */
        /* flex-shrink: 1; */
        /* flex-grow: 1; */
    }
    #top-bar-group-right {
        display: inline-flex;
        align-items: center;
        flex-wrap: nowrap; /* Try to keep icons in one line, may need to hide some */
        overflow-x: auto; /* If too many icons, allow horizontal scroll for this group */
        -ms-overflow-style: none;  /* IE and Edge */
        scrollbar-width: none;  /* Firefox */
    }
    #top-bar-group-right::-webkit-scrollbar { /* Chrome, Safari, Opera */
        display: none;
    }
    /* Hide the original select dropdowns if they were not already removed by JS logic changes */
    #primaryVersionSelect, #secondaryVersionSelect, #commentarySelect, #themeSelect {
        display: none !important;
    }
    /* Hiding the text part of the multi-commentary toggle label if you added the span */
    .top-group .multi-commentary-label-text {
        display: none;
    }
    /* Hiding the "Theme:" label if it's a separate label element */
    label[for="themeSelect"] {
        display: none;
    }

    .top-group.navigation-controls .chapter-display {
        font-size: 1rem;    /* Smaller chapter display text */
        padding: 6px 5px;
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
        max-width: 140px; /* Prevent it from taking too much space */
        text-align: center;
    }
.selection-modal-content {
	padding: 10px;
	margin-bottom: 0;
	
}
    #toggleCommentaryUploadBtn, #toggleViewBtn, #toggleSearchBtn, #toggleFileUploadBtn, #toggleUserDataBtn {
        width: auto;
        flex-grow: 1;
        margin-bottom: 5px;
		flex-wrap: wrap;
		gap: 8px; 
    }
    #main-content-area {
        flex-direction: column;
    }
    #sidebar {
        width: 100%;
        max-height: 200px;
        border-bottom: 1px solid #ccc;
    }
    #sidebar.hidden {
        max-height: 0;
        padding: 0;
    }
	#reader-view {
		flex-grow: 1;
		/* padding: 1.5rem; /* Original padding */
		padding: 0.5rem 1.0rem 0.5rem 1.0rem; /* Reduced top/bottom padding, kept side for breathing room */
		/* OR, if you want NO space around panels: padding: 0; */
		display: flex;
		flex-direction: column;
		align-items: center; /* This centers panels if they're not width: 100% */
		overflow: hidden; /* Keep this */
		min-height: 0; /* Keep this for flex children scrolling */
	}
    .panel {
        padding: 15px;
    }
    .parallel-container {
        flex-direction: column;
    }
    .bible-column {
        max-height: none;
    }
    .modal-content {
        width: 95%;
        padding: 20px;
    }
    .user-data-tabs {
        flex-wrap: wrap;
    }
    .tab-button {
        flex-grow: 1;
        margin: 2px 0;
    }
}
.highlight-color-picker {
  position: absolute;
  background: white;
  border: 1px solid #ccc;
  padding: 6px;
  display: flex;
  gap: 8px;
  border-radius: 6px;
  box-shadow: 0 4px 12px rgba(0,0,0,0.2);
  z-index: 9999;
}

.highlight-color-picker.hidden {
  display: none;
}

.color-option {
  width: 24px;
  height: 24px;
  border-radius: 4px;
  cursor: pointer;
  border: 2px solid transparent;
}

.color-option:hover {
  border-color: #333;
}

/* Container for the grid of loaded Bibles/Commentaries */
.items-grid-container {
    display: grid;
    /* Adjust minmax for desired item width. 200px is a good start. */
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); 
    gap: 16px; /* Space between items */
    padding: 10px 0; /* Add some vertical padding */
    margin-top: 10px; /* Space from the "Loaded..." heading */
}

/* Styling for each item (Bible/Commentary) in the grid */
.grid-list-item {
    display: flex;
    align-items: center; /* Vertically align icon, name, and button */
	max-width: 150px;
    background-color: var(--panel-bg-color, #fff); /* Use theme variable, fallback to white */
    border: 1px solid var(--panel-border-color, #e0e0e0); /* Use theme variable for border */
    border-radius: 8px; /* More rounded corners */
    padding: 12px 16px; /* Comfortable padding */
    box-shadow: var(--panel-shadow, 0 2px 4px rgba(0,0,0,0.08)); /* Use theme variable for shadow */
    transition: box-shadow 0.2s ease-in-out, transform 0.2s ease-in-out;
}

.grid-list-item:hover {
    transform: translateY(-3px); /* Slight lift effect on hover */
    box-shadow: 0 5px 12px rgba(0,0,0,0.12); /* More pronounced shadow on hover */
}

.grid-list-item .item-icon {
    font-size: 1.6em; /* Size of the Font Awesome icon */
    color: var(--accent-color, #4CAF50); /* Use your theme's accent color */
    margin-right: 15px; /* Space between icon and name */
    flex-shrink: 0; 
}

.grid-list-item .item-name {
    flex-grow: 1; /* Name takes up available space */
    font-size: 1em;
    font-weight: 500; /* Medium weight */
    color: var(--main-text-color, #333); /* Use theme text color */
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap; /* Prevent name from wrapping */
}

.grid-list-item .remove-item-btn {
    background-color: transparent;
    border: none;
    color: var(--delete-button-bg-color, #dc3545); /* Use a theme variable for delete color */
    font-size: 1.2em; /* Size of the trash icon */
    cursor: pointer;
    padding: 6px; /* Make click area decent */
    margin-left: 10px; /* Space from the name */
    border-radius: 50%; /* Round button for icon */
    width: 32px;   /* Explicit size for the button */
    height: 32px;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: background-color 0.2s ease, color 0.2s ease;
    flex-shrink: 0;
}

.grid-list-item .remove-item-btn:hover {
    background-color: rgba(220, 53, 69, 0.1); /* Light red background on hover */
    color: var(--delete-button-hover-bg-color, #c82333); /* Darker icon color on hover */
}

/* Placeholder text styling within the grid container */
.items-grid-container .placeholder {
    grid-column: 1 / -1; /* Make placeholder span all available columns */
    text-align: center;
    color: var(--main-text-color, #777); /* Use theme text color, with a fallback */
    opacity: 0.7;
    padding: 20px;
    font-style: italic;
}

/* General styling for the modal title H2 element */
.modal-content h2#commentaryModalTitle, 
.modal-content h2#noteModalTitle { /* Apply to other modal titles too */
    font-size: 1.4em; /* Adjust as desired */
    font-weight: 600;
    color: var(--modal-title-text-color); /* <<< USE THEME VARIABLE FOR TEXT */
    text-align: center;
    margin-top: 0;
    margin-bottom: 10px; /* Space before commentary tabs/nav */
    padding-bottom: 10px;
    border-bottom: 1px solid var(--modal-border-color);
}

/* Container for the commentary tabs (JS adds this div inside #commentaryModalTitle) */
#commentaryModalTitle .commentary-tabs {
    display: flex;
    flex-wrap: wrap; /* Allow tabs to wrap if many */
    gap: 6px;
    justify-content: center;
    margin-top: 10px; /* Space between verse label and tabs */
}

/* Individual commentary tab buttons */
#commentaryModalTitle .commentary-tab {
    padding: 7px 14px; /* More padding */
    background-color: var(--input-bg-color);    /* <<< USE THEME VARIABLE for background */
    color: var(--main-text-color);           /* <<< USE THEME VARIABLE for text */
    border: 1px solid var(--input-border-color); /* <<< USE THEME VARIABLE for border */
    border-radius: 5px; /* Slightly more rounded */
    cursor: pointer;
    font-size: 0.85rem;
    font-weight: 500; /* Medium weight */
    transition: background-color 0.2s ease, color 0.2s ease, border-color 0.2s ease;
}

#commentaryModalTitle .commentary-tab:hover {
    background-color: var(--main-bg-color); /* Or a specific hover variable */
    border-color: var(--accent-color); /* Highlight border on hover */
    color: var(--accent-color); /* Change text color on hover for emphasis */
}

#commentaryModalTitle .commentary-tab.active {
    background-color: var(--accent-color);      /* Active tab uses accent color */
    color: var(--accent-text-color);         /* Text color for active tab */
    font-weight: bold;
    border-color: var(--accent-color);         /* Border matches accent */
}